<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>System Requirements &mdash; Intel® QuickAssist Technology  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/qat.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="Description" href="description.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Intel® QuickAssist Technology
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../qat_general/legal.html">Legal Notices &amp; Disclaimers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Intro/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Intro/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RN/In-Tree/index.html">Release Notes - In-Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RN/Linux/2.X/index.html">Release Notes - Linux*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RN/VMware/2.X/index.html">Release Notes - VMware*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GSG/2.X/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PG/index.html">Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VIRT/index.html">Virtualization Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PERF/index.html">Performance Optimization Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">QATlib User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="description.html">Description</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">System Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bios-configuration">BIOS Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-firmware-requirements">Kernel/Firmware Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#firmware">Firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-drivers">Kernel Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#host-system-kernel-drivers">Host System Kernel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#guest-system-kernel-drivers">Guest System Kernel Drivers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linux-boot-parameters">Linux Boot Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#instructions-for-debian-based-distros">Instructions for Debian Based Distros</a></li>
<li class="toctree-l4"><a class="reference internal" href="#instructions-for-rhel-centos-fedora">Instructions for RHEL/CentOS/Fedora</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample_code.html">Sample Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration and Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_in_vm.html">Running in a Virtual Machine (VM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_in_a_container.html">Running in a Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate.html">Migrating Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="qatzip.html">Intel® QuickAssist Technology (QAT) QATzip Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="qatengine.html">Intel® QuickAssist Technology(QAT) OpenSSL* Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="asynch_nginx.html">Asynch Mode for NGINX*</a></li>
<li class="toctree-l2"><a class="reference internal" href="revision_history.html">Revision History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AppNotes/index.html">Application Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_PG/index.html">API Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qat_general/contact.html">Contact &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qat_general/collateral_list.html">Documentation &amp; Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Intel® QuickAssist Technology</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">QATlib User’s Guide</a></li>
      <li class="breadcrumb-item active">System Requirements</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="system-requirements">
<span id="qat2-0-qatlib-userguide-requirements"></span><h1>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this heading"></a></h1>
<p>There are some prerequisites when using QATlib. When running on newer Linux distributions many of these are taken care of.</p>
<blockquote>
<div><ul class="simple">
<li><p>Required BIOS parameters must be enabled.</p></li>
<li><p>Platform must have a 4xxx Intel<sup>®</sup> Communication device.  This includes 4xxx, 401xx, 402xx, and 420xx.</p></li>
<li><p>Firmware must be available for the 4xxx Intel<sup>®</sup> Communication device.</p></li>
<li><p>Kernel drivers must be running and properly bound to the Intel<sup>®</sup> QAT Physical and Virtual Functions (PF and VF).</p></li>
<li><p>Required Linux boot parameters must be configured.</p></li>
</ul>
</div></blockquote>
<p>The following sections provide the details to verify all prerequisites listed above.</p>
<section id="bios-configuration">
<h2>BIOS Configuration<a class="headerlink" href="#bios-configuration" title="Permalink to this heading"></a></h2>
<p>To properly use the QATlib library, the <em>Intel VT-d</em> and <em>SR-IOV</em> parameters must be enabled in the platform BIOS.
Consult your platform guide for details on enabling these parameters. If using an Intel Best Known Configuration
(BKC) these parameters are usually enabled by default.</p>
<p>The status of both parameters can be verified in the BIOS settings. Although the specific location depends on the
BIOS vendor navigation menu, these parameters are usually found in the following locations:</p>
<table class="longtable colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Intel VT-d and SR-IOV parameters location in BIOS</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Intel VT-d</strong></p></th>
<th class="head"><p><strong>SR-IOV</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">EDKII Menu</div>
<div class="line">-&gt; Socket Configuration</div>
<div class="line-block">
<div class="line">-&gt; IIO Configuration</div>
<div class="line-block">
<div class="line">-&gt; Intel VT for Directed I/O (VT-d)</div>
<div class="line-block">
<div class="line">-&gt; Intel VT for Directed I/O</div>
</div>
</div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">EDKII Menu</div>
<div class="line">-&gt; Platform Configuration</div>
<div class="line-block">
<div class="line">-&gt; Miscellaneous Configuration</div>
<div class="line-block">
<div class="line">-&gt; SR-IOV Support</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="kernel-firmware-requirements">
<h2>Kernel/Firmware Requirements<a class="headerlink" href="#kernel-firmware-requirements" title="Permalink to this heading"></a></h2>
<p>Refer to <a class="reference internal" href="../RN/In-Tree/in_tree_firmware_RN.html#qat-2-0-in-tree-kernel-requirements"><span class="std std-ref">Kernel/Firmware Requirements</span></a> for details on required kernel/firmware version.</p>
</section>
<section id="supported-devices">
<span id="qat2-0-qatlib-supported-devices"></span><h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Permalink to this heading"></a></h2>
<p>The following platforms are supported by QATlib:</p>
<table class="longtable colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Supported Platforms</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>GEN</strong></p></th>
<th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Kernel Module</strong></p></th>
<th class="head"><p><strong>PF Did</strong></p></th>
<th class="head"><p><strong>VF Did</strong></p></th>
<th class="head"><p><strong>FW Files</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4</p></td>
<td><p>4xxx</p></td>
<td><p>qat_4xxx</p></td>
<td><p>4940</p></td>
<td><p>4941</p></td>
<td><div class="line-block">
<div class="line">qat_4xxx.bin</div>
<div class="line">qat_4xxx_mmp.bin</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>401xx</p></td>
<td><p>qat_4xxx</p></td>
<td><p>4942</p></td>
<td><p>4943</p></td>
<td><div class="line-block">
<div class="line">qat_4xxx.bin</div>
<div class="line">qat_4xxx_mmp.bin</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>402xx</p></td>
<td><p>qat_4xxx</p></td>
<td><p>4944</p></td>
<td><p>4945</p></td>
<td><div class="line-block">
<div class="line">qat_402xx.bin</div>
<div class="line">qat_402xx_mmp.bin</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>420xx</p></td>
<td><p>qat_420xx</p></td>
<td><p>4946</p></td>
<td><p>4947</p></td>
<td><div class="line-block">
<div class="line">qat_420xx.bin</div>
<div class="line">qat_420xx_mmp.bin</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Verify the platform contains a supported 4xxx Intel<sup>®</sup> Communications device by running the below command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo `(lspci -d 8086:4940 &amp;&amp; lspci -d 8086:4941 &amp;&amp; lspci -d 8086:4942 &amp;&amp; lspci -d 8086:4943 &amp;&amp; lspci -d 8086:4944 &amp;&amp; lspci -d 8086:4945 &amp;&amp; lspci -d 8086:4946 &amp;&amp; lspci -d 8086:4947) | wc -l` supported devices found.</span>
</pre></div>
</div>
</div></blockquote>
<p>If supported 4xxx Intel<sup>®</sup> Communications devices are found, you should get an output similar to the following:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>4 supported devices found.
</pre></div>
</div>
</div></blockquote>
</section>
<section id="firmware">
<span id="qat2-0-qatlib-userguide-firmware"></span><h2>Firmware<a class="headerlink" href="#firmware" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This step is required when running on host system. It does not apply when running in a virtual machine as the firmware is loaded on the host.</p>
</div>
<p>Verify the supported firmware for your platform is available in the <code class="docutils literal notranslate"><span class="pre">/lib/firmware</span></code> directory by running the below commands:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls /lib/firmware/{qat_4xxx,qat_402xx,qat_420xx}.bin* 2&gt;/dev/null</span>
<span class="go">ls /lib/firmware/{qat_4xxx,qat_402xx,qat_420xx}_mmp.bin* 2&gt;/dev/null</span>
</pre></div>
</div>
<p>The output will look like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/lib/firmware/qat_4xxx.bin</span>
<span class="go">/lib/firmware/qat_4xxx_mmp.bin</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the firmware images are <strong>not</strong> present, perform the following steps:</p>
<ol class="arabic">
<li><p><strong>Download</strong> the firmware files.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd ~</span>
<span class="go">wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/qat_4xxx.bin</span>
<span class="go">wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/qat_4xxx_mmp.bin</span>
<span class="go">wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/qat_402xx.bin</span>
<span class="go">wget https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/plain/qat_402xx_mmp.bin</span>
<span class="go">sudo cp qat_4xxx*.bin qat_402xx*.bin /lib/firmware</span>
<span class="go">rm qat_4xxx*.bin qat_402xx*.bin</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Update</strong> <em>initramfs</em>.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo dracut --force</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>dracut</strong> is not used on some distributions such as Ubuntu. The following steps can be ran instead.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span><span class="w"> </span><span class="n">update</span><span class="o">-</span><span class="n">initramfs</span><span class="w"> </span><span class="o">-</span><span class="n">u</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">rmmod</span><span class="w"> </span><span class="n">qat_4xxx</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">rmmod</span><span class="w"> </span><span class="n">intel_qat</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">modprobe</span><span class="w"> </span><span class="n">intel_qat</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">modprobe</span><span class="w"> </span><span class="n">qat_4xxx</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ol>
</div>
</section>
<section id="kernel-drivers">
<h2>Kernel Drivers<a class="headerlink" href="#kernel-drivers" title="Permalink to this heading"></a></h2>
<p>Verify the appropriate kernel drivers are loaded in the host and/or the guest system(s).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="#qat2-0-qatlib-supported-devices"><span class="std std-ref">Supported Devices</span></a> for appropriate kernel module for your device.</p>
</div>
<section id="host-system-kernel-drivers">
<h3>Host System Kernel Drivers<a class="headerlink" href="#host-system-kernel-drivers" title="Permalink to this heading"></a></h3>
<p>When running on the <em>host</em> system, use the following command to verify the kernel drivers are present:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lsmod | grep qat</span>
</pre></div>
</div>
</div></blockquote>
<p>If the kernel drivers are found, you should get an output similar to the following:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>qat_4xxx               16384  0
intel_qat             172032  1 qat_4xxx
</pre></div>
</div>
</div></blockquote>
<p>If the kernel modules are <strong>not</strong> found, install them using the following commands:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo modprobe intel_qat</span>
<span class="go">sudo modprobe qat_4xxx</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">modprobe</span></code> commands fail to install the kernel drivers, verify the kernel has been configured to include these modules by running the below command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cat /boot/config-$(uname -r) | grep -i qat</span>
</pre></div>
</div>
</div></blockquote>
<p>You should see the following output:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>CONFIG_CRYPTO_DEV_QAT=m
CONFIG_CRYPTO_DEV_QAT_DH895xCC=m
CONFIG_CRYPTO_DEV_QAT_C3XXX=m
CONFIG_CRYPTO_DEV_QAT_C62X=m
CONFIG_CRYPTO_DEV_QAT_4XXX=m
CONFIG_CRYPTO_DEV_QAT_DH895xCCVF=m
CONFIG_CRYPTO_DEV_QAT_C3XXXVF=m
CONFIG_CRYPTO_DEV_QAT_C62XVF=m
</pre></div>
</div>
</div></blockquote>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>For Debian-based systems like Ubuntu, QAT (QuickAssist Technology) kernel modules may be available in an additional package. Install it with:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="w"> </span><span class="n">update</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apy</span><span class="w"> </span><span class="n">upgrade</span><span class="w"> </span><span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">linux</span><span class="o">-</span><span class="n">modules</span><span class="o">-</span><span class="n">extra</span><span class="o">-</span><span class="n">$</span><span class="p">(</span><span class="n">uname</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div></blockquote>
<p>Lastly, verify the appropriate kernel driver is bound to each Intel<sup>®</sup> QAT Physical Function (PF) by running the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo `(lspci -vvv  -d 8086:4940 &amp;&amp; lspci -vvv -d 8086:4942 &amp;&amp; lspci -vvv -d 8086:4944 &amp;&amp; lspci -vvv -d 8086:4946) | grep &quot;Kernel driver&quot;`</span>
</pre></div>
</div>
</div></blockquote>
<p>You should see an output similar to the following:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx Kernel driver in use: 4xxx
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="#qat2-0-qatlib-supported-devices"><span class="std std-ref">Supported Devices</span></a> for appropriate kernel module for your device.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you are not getting any results from the above command, it means the QAT kernel driver is not bound to the Intel<sup>®</sup> QAT PF.</p>
<p>This could be due to the current kernel version in the system does not support  the particular Intel<sup>®</sup> CPU SKU in your system.</p>
<p>Try upgrading the kernel version to 5.19+.</p>
</div>
</div></blockquote>
</section>
<section id="guest-system-kernel-drivers">
<h3>Guest System Kernel Drivers<a class="headerlink" href="#guest-system-kernel-drivers" title="Permalink to this heading"></a></h3>
<p>When running on the <em>guest</em> system, use the following command to verify the kernel drivers are present:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">lsmod | grep vfio_pci</span>
</pre></div>
</div>
</div></blockquote>
<p>If the kernel module is <strong>not</strong> found, install it using the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo modprobe vfio_pci</span>
</pre></div>
</div>
</div></blockquote>
<p>Lastly, verify the <code class="docutils literal notranslate"><span class="pre">vfio_pci</span></code> kernel driver is bound to each Intel<sup>®</sup> QAT Virtual Function (VF) by running the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo `(lspci -vvv  -d 8086:4941 &amp;&amp; lspci -vvv -d 8086:4943 &amp;&amp; lspci -vvv -d 8086:4945 &amp;&amp; lspci -vvv -d 8086:4947) | grep &quot;Kernel driver&quot;`</span>
</pre></div>
</div>
</div></blockquote>
<p>You should see an output similar to the following:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Kernel driver in use: vfio-pci Kernel driver in use: vfio-pci Kernel driver in use: vfio-pci Kernel driver in use:
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="linux-boot-parameters">
<h2>Linux Boot Parameters<a class="headerlink" href="#linux-boot-parameters" title="Permalink to this heading"></a></h2>
<p>There are two boot parameters that are required.</p>
<ul class="simple">
<li><p>intel_iommu=on</p></li>
<li><p>vfio-pci.ids=[QAT VF DID]</p></li>
</ul>
<p>Verify these settings are enabled by running the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">grep -E &#39;intel_iommu=on&#39; /proc/cmdline &amp;&amp; grep -o &#39;vfio-pci.ids=[^ ]*&#39; /proc/cmdline | grep -E &#39;8086:4941|8086:4943|8086:4945|8086:4947&#39;</span>
</pre></div>
</div>
</div></blockquote>
<p>If they are <strong>not</strong> enabled, the following steps can be used to turn it on.</p>
<section id="instructions-for-debian-based-distros">
<h3>Instructions for Debian Based Distros<a class="headerlink" href="#instructions-for-debian-based-distros" title="Permalink to this heading"></a></h3>
<p>If using a Debian based distribution, run the following commands:</p>
<blockquote>
<div><ol class="arabic">
<li><p><strong>Open</strong> the grub file.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo vi /etc/default/grub</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Update</strong> the <code class="docutils literal notranslate"><span class="pre">GRUB_CMDLINE_LINUX</span></code> line by adding <code class="docutils literal notranslate"><span class="pre">intel_iommu=on</span></code>.</p></li>
<li><p><strong>Update</strong> the <code class="docutils literal notranslate"><span class="pre">GRUB_CMDLINE_LINUX</span></code> line by adding <code class="docutils literal notranslate"><span class="pre">vfio-pci-ids=8086:4941</span></code>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">In the command above we added the 8086:4941 device id.  Depending on your system, this ID could also be 8086:4943, 8086:4945, or 8086:4947.</div>
<div class="line">Refer to <a class="reference internal" href="#qat2-0-qatlib-supported-devices"><span class="std std-ref">Supported Devices</span></a> section of QATlib Users Guide for additional details.</div>
</div>
</div>
</div></blockquote>
</li>
<li><p><strong>Load</strong> the changes done.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo update-grub</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Reboot</strong> the system.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">shutdown -r now</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</section>
<section id="instructions-for-rhel-centos-fedora">
<h3>Instructions for RHEL/CentOS/Fedora<a class="headerlink" href="#instructions-for-rhel-centos-fedora" title="Permalink to this heading"></a></h3>
<p>If using RHEL, CentOS or Fedora, run the following commands:</p>
<blockquote>
<div><ol class="arabic">
<li><p><strong>Update</strong> the kernel boot parameters.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo grubby --update-kernel=ALL --args=&quot;intel_iommu=on&quot;</span>
<span class="go">sudo grubby --update-kernel=ALL --args=&quot;vfio-pci.ids=8086:4941&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">In the command above we added the 8086:4941 device id.  Depending on your system, this ID could also be 8086:4943, 8086:4945, or 8086:4947.</div>
<div class="line">Refer to <a class="reference internal" href="#qat2-0-qatlib-supported-devices"><span class="std std-ref">Supported Devices</span></a> section of QATlib Users Guide for additional details.</div>
</div>
</div>
</div></blockquote>
</li>
<li><p><strong>Reboot</strong> the system.</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo shutdown -r now</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="description.html" class="btn btn-neutral float-left" title="Description" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Intel Corporation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>