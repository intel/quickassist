<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Telemetry &mdash; Intel® QuickAssist Technology  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/qat.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Intel® QuickAssist Technology
          </a>
              <div class="version">
                Hardware Version 2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../qat_general/legal.html">Legal Notices &amp; Disclaimers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Intro/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Intro/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RN/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GSG/2.X/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../VIRT/index.html">Virtualization Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PERF/index.html">Performance Optimization Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../qat_general/contact.html">Contact &amp; Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Intel® QuickAssist Technology</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Telemetry</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="telemetry">
<span id="qat-2-0-pg-infrastructure-device-telemetry"></span><h1>Telemetry<a class="headerlink" href="#telemetry" title="Permalink to this headline"></a></h1>
<p>The telemetry feature is a tool to view the performance and utilization of an acceleration device.
Telemetry data can be viewed on a per device and a per ring pair (also known as <a class="reference internal" href="../infrastructure_queue_pairs.html#qat-2-0-pg-infrastructure-queue-pairs"><span class="std std-ref">queue pair</span></a>) basis.</p>
<section id="telemetry-usage">
<h2>Telemetry Usage<a class="headerlink" href="#telemetry-usage" title="Permalink to this headline"></a></h2>
<p>The telemetry feature is configured and queried using sysfs files in the Linux filesystem.</p>
<p>The telemetry sysfs folder is located at <code class="docutils literal notranslate"><span class="pre">/sys/devices/pciAAAA:BB/AAAA:BB:CC.D/telemetry</span></code> where:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AAAA:BB:CC.D</span></code> is the <em>Domain:BDF</em> of the target Intel® QAT Endpoint.</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ls /sys/devices/pciAAAA:BB/0000:6b:00.0/telemetry</span>
</pre></div>
</div>
</div></blockquote>
<p>The telemetry feature is controlled with standard linux file commands into the control file as outlined below.
The telemetry data is accessed through the <code class="docutils literal notranslate"><span class="pre">device_data</span></code> or <code class="docutils literal notranslate"><span class="pre">rp_&lt;X&gt;_data</span></code> file depending on what data is required.</p>
<p>The telemetry data for device level and ring pair level is updated each second.</p>
</section>
<section id="telemetry-control">
<h2>Telemetry Control<a class="headerlink" href="#telemetry-control" title="Permalink to this headline"></a></h2>
<p>Device level telemetry is enabled by echoing <code class="docutils literal notranslate"><span class="pre">1</span></code> into the control file and disabled by echoing <code class="docutils literal notranslate"><span class="pre">0</span></code>.
Reading the control file will tell whether the feature is currently enabled or disabled.</p>
<p>Ring Pair level telemetry is enabled when device level telemetry is enabled. However the ring pairs need to be selected.
Only 4 ring pairs can be shown at any given time.
By echoing the number of the ring pair (0-63) into a <code class="docutils literal notranslate"><span class="pre">rp_&lt;X&gt;_data</span></code> file it can be selected. Where X is A,B,C or D.</p>
<section id="telemetry-commands">
<h3>Telemetry Commands<a class="headerlink" href="#telemetry-commands" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default" id="id1">
<caption><span class="caption-text">Telemetry Commands</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Operation</strong></p></th>
<th class="head"><p><strong>Command</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Enable Telemetry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">1</span> <span class="pre">&gt;</span> <span class="pre">control</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Disable Telemetry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">0</span> <span class="pre">&gt;</span> <span class="pre">control</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Query Telemetry data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">device_data</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Select Ring Pairs</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">Num</span> <span class="pre">&gt;</span> <span class="pre">rp_&lt;X&gt;_data,</span> <span class="pre">Num</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">ring</span> <span class="pre">pair</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">selected</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Query Ring Pair data</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">rp_&lt;X&gt;_data</span></code></p></td>
</tr>
</tbody>
</table>
<section id="selecting-ring-pairs">
<h4>Selecting Ring Pairs<a class="headerlink" href="#selecting-ring-pairs" title="Permalink to this headline"></a></h4>
<p>This section provides guidance on the mapping of ring pairs to the VFs for the PF.
There are 4 Ring Pairs per VF.  The Ring Pairs for a PF looks like the following:</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Ring Pairs</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 31%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>VF</strong></p></th>
<th class="head" colspan="4"><p><strong>Ring Pairs</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>8</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>12</p></td>
<td><p>13</p></td>
<td><p>14</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>16</p></td>
<td><p>17</p></td>
<td><p>18</p></td>
<td><p>19</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>20</p></td>
<td><p>21</p></td>
<td><p>22</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>24</p></td>
<td><p>25</p></td>
<td><p>26</p></td>
<td><p>27</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>28</p></td>
<td><p>29</p></td>
<td><p>30</p></td>
<td><p>31</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>32</p></td>
<td><p>33</p></td>
<td><p>34</p></td>
<td><p>35</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>36</p></td>
<td><p>37</p></td>
<td><p>38</p></td>
<td><p>39</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>40</p></td>
<td><p>41</p></td>
<td><p>42</p></td>
<td><p>43</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>44</p></td>
<td><p>45</p></td>
<td><p>46</p></td>
<td><p>47</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>48</p></td>
<td><p>49</p></td>
<td><p>50</p></td>
<td><p>51</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>52</p></td>
<td><p>53</p></td>
<td><p>54</p></td>
<td><p>55</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>56</p></td>
<td><p>57</p></td>
<td><p>58</p></td>
<td><p>59</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>60</p></td>
<td><p>61</p></td>
<td><p>62</p></td>
<td><p>63</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">ServicesEnabled</span></code> defined for the PF control the mapping of the Ring Pairs:</p>
<ul class="simple">
<li><p>If only one workload is enabled (<code class="docutils literal notranslate"><span class="pre">dc/sym/asym</span></code>), the first two columns are used for this service.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">dc</span></code> and <code class="docutils literal notranslate"><span class="pre">sym</span></code> or <code class="docutils literal notranslate"><span class="pre">asym</span></code> is enabled, the first two columns are for <code class="docutils literal notranslate"><span class="pre">sym</span></code> or <code class="docutils literal notranslate"><span class="pre">asym</span></code> and the second two columns are for <code class="docutils literal notranslate"><span class="pre">dc</span></code></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">sym</span></code> and <code class="docutils literal notranslate"><span class="pre">asym</span></code> is enabled, the first and third columns are for <code class="docutils literal notranslate"><span class="pre">asym</span></code> and second and fourth columns are for <code class="docutils literal notranslate"><span class="pre">sym</span></code>.</p></li>
</ul>
</section>
</section>
<section id="device-level-telemetry-values">
<h3>Device Level Telemetry Values<a class="headerlink" href="#device-level-telemetry-values" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default" id="id3">
<caption><span class="caption-text">Device Level Telemetry Values</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Value</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sample_cnt</span></code></p></td>
<td><p>Message count, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pci_trans_cnt</span></code></p></td>
<td><p>PCIe Partial Transactions, counter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_rd_lat</span></code></p></td>
<td><p>Max Read Latency, nanoseconds.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rd_lat_acc_avg</span></code></p></td>
<td><p>Average Read Latency, nanoseconds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_lat</span></code></p></td>
<td><p>Max Get To Put latency, nanoseconds.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lat_acc_avg</span></code></p></td>
<td><p>Average Get To Put latency, nanoseconds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bw_in</span></code></p></td>
<td><p>PCIe write bandwidth, Mbps.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bw_out</span></code></p></td>
<td><p>PCIe read bandwidth, Mbps.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">at_page_req_lat_acc_avg</span></code></p></td>
<td><p>Average Page Request Latency, nanoseconds.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">at_trans_lat_acc_avg</span></code></p></td>
<td><p>Average Translation Latency, nanoseconds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">at_max_tlb_used</span></code></p></td>
<td><p>Maximum uTLB Consumed, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">util_cpr&lt;x&gt;</span></code></p></td>
<td><p>Compression Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">util_dcpr&lt;x&gt;</span></code></p></td>
<td><p>Decompression Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">util_xlt&lt;x&gt;</span></code></p></td>
<td><p>Translator Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">util_cph&lt;x&gt;</span></code></p></td>
<td><p>Cipher Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">util_ath&lt;x&gt;</span></code></p></td>
<td><p>Authentication Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">util_ucs&lt;x&gt;</span></code></p></td>
<td><p>UCS Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">util_pke&lt;x&gt;</span></code></p></td>
<td><p>PKE Slice Utilization On Slice X, percentage execution cycles.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ring-pair-level-telemetry-values">
<h3>Ring Pair Level Telemetry Values<a class="headerlink" href="#ring-pair-level-telemetry-values" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default" id="id4">
<caption><span class="caption-text">Ring Pair Level Telemetry Values</span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Value</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sample_cnt</span></code></p></td>
<td><p>Message count, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rp_num</span></code></p></td>
<td><p>Number of the ring pair returning data.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pci_trans_cnt</span></code></p></td>
<td><p>PCIe Partial Transactions, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lat_acc_avg</span></code></p></td>
<td><p>Average Get To Put latency, nanoseconds.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bw_in</span></code></p></td>
<td><p>PCIe write bandwidth, Mbps.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bw_out</span></code></p></td>
<td><p>PCIe read bandwidth, Mbps.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">at_glob_devtlb_hit</span></code></p></td>
<td><p>Descriptor DevTLB hit rate per ring, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">at_glob_devtlb_miss</span></code></p></td>
<td><p>Descriptor DevTLB miss rate per ring, counter.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tl_at_payld_devtlb_hit</span></code></p></td>
<td><p>Payload DevTLB hit rate per ring, counter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tl_at_payld_devtlb_miss</span></code></p></td>
<td><p>Payload DevTLB miss rate per ring, counter.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="monitoring-telemetry-text-based">
<span id="qat2-0-text-based-telemetry"></span><h2>Monitoring Telemetry - Text Based<a class="headerlink" href="#monitoring-telemetry-text-based" title="Permalink to this headline"></a></h2>
<p>The following example Python script highlights how telemetry data can be monitored at the command line.  The
script first enables telemetry service for each QAT endpoint that supports telemetry and is in the <code class="docutils literal notranslate"><span class="pre">up</span></code>
state. It then queries the telemetry data on a periodic basis collecting the data and formatting the display.</p>
<figure class="align-default">
<img alt="img/device_utilization.png" src="img/device_utilization.png" />
</figure>
<p>Script can be downloaded from <a class="reference download internal" download="" href="../../_downloads/1ccc896187633a29b7de22151562c472/monitor_qat.py"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python3.6</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">curses</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">devices</span><span class="o">=</span><span class="p">[]</span>

<span class="k">def</span> <span class="nf">EnableTelemetry</span><span class="p">():</span>

    <span class="n">devices</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;adf_ctl status&quot;</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">,</span><span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Store the return code in rc variable</span>
    <span class="n">rc</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

    <span class="c1"># Separate the output and error.</span>
    <span class="c1"># This is similar to Tuple where we store two values to two different variables</span>
    <span class="n">out</span><span class="p">,</span><span class="n">err</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>

    <span class="c1"># Split string into list of strings</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;down&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">bus</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">telemetry_supported</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">):</span>

        <span class="k">if</span> <span class="s2">&quot;qat_dev&quot;</span> <span class="ow">in</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s2">&quot;type:&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s2">&quot;4xxx,&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">telemetry_supported</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="s2">&quot;bsf:&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">bus</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s2">&quot;state:&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s2">&quot;up&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">telemetry_supported</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">bus</span><span class="p">))</span>
            <span class="c1"># Reset variables to ensure we only attempt to enable telemetery on devices that support telemetry and are in up state</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;down&quot;</span>
            <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">bus</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">telemetry_supported</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">:</span>
        <span class="n">control_file_name</span><span class="o">=</span><span class="s2">&quot;/sys/devices/pci0000:&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/0000:&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;:00.0/telemetry/control&quot;</span>

        <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;echo 1 &gt; &quot;</span> <span class="o">+</span> <span class="n">control_file_name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">break</span>

<span class="k">def</span> <span class="nf">pbar</span><span class="p">(</span><span class="n">window</span><span class="p">):</span>
    <span class="n">refresh_counter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">refresh_counter</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;Intel(R) QuickAssist Device Utilization&quot;</span><span class="p">)</span>
            <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;Device</span><span class="se">\t</span><span class="s2">%Comp</span><span class="se">\t</span><span class="s2">%Decomp</span><span class="se">\t</span><span class="s2">%PKE</span><span class="se">\t</span><span class="s2">%Cipher</span><span class="se">\t</span><span class="s2">%Auth</span><span class="se">\t</span><span class="s2">%UCS</span><span class="se">\t</span><span class="s2">Latency(ns)&quot;</span><span class="p">)</span>
            <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;=========================================================================&quot;</span><span class="p">)</span>

            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;cat /sys/devices/pci0000:&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/0000:&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;:00.0/telemetry/device_data&quot;</span>

                <span class="n">sp</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">,</span><span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1"># Store the return code in rc variable</span>
                <span class="n">rc</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

                <span class="c1"># Separate the output and error.</span>
                <span class="c1"># This is similar to Tuple where we store two values to two different variables</span>
                <span class="n">out</span><span class="p">,</span><span class="n">err</span><span class="o">=</span><span class="n">sp</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>

                <span class="c1"># Split string into list of strings</span>
                <span class="n">output</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

                <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">):</span>

                    <span class="k">if</span> <span class="s2">&quot;lat_acc_avg&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">latency</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_cpr0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">compression</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_dcpr0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">decompression0</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_dcpr1&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">decompression1</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_dcpr2&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">decompression2</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke0</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke1&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke1</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke2&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke2</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke3&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke3</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke4&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke4</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_pke5&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">pke5</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_cph0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">cph0</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_cph1&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">cph1</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_cph2&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">cph2</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_cph3&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">cph3</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ath0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ath0</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ath1&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ath1</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ath2&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ath2</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ath3&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ath3</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ucs0&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ucs0</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="s2">&quot;util_ucs1&quot;</span> <span class="o">==</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                        <span class="n">ucs1</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="n">decompress_utilization</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">decompression0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">decompression1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">decompression2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">decompress_utilization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">decompress_utilization</span> <span class="o">=</span> <span class="n">decompress_utilization</span> <span class="o">/</span> <span class="mi">3</span>
                    <span class="n">decompress_utilization</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">decompress_utilization</span><span class="p">)</span>
                <span class="n">pke_utilization</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke3</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke4</span><span class="p">)</span><span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pke5</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">pke_utilization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">pke_utilization</span> <span class="o">=</span> <span class="n">pke_utilization</span> <span class="o">/</span> <span class="mi">6</span>
                    <span class="n">pke_utilization</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">pke_utilization</span><span class="p">)</span>
                <span class="n">cph_utilization</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cph0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cph1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cph2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cph3</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cph_utilization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">cph_utilization</span> <span class="o">=</span> <span class="n">cph_utilization</span> <span class="o">/</span> <span class="mi">4</span>
                    <span class="n">cph_utilization</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">cph_utilization</span><span class="p">)</span>
                <span class="n">ath_utilization</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ath0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">ath1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">ath2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">ath3</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ath_utilization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">ath_utilization</span> <span class="o">=</span> <span class="n">ath_utilization</span> <span class="o">/</span> <span class="mi">4</span>
                    <span class="n">ath_utilization</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">ath_utilization</span><span class="p">)</span>
                <span class="n">usc_utilization</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ucs0</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">ucs1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">usc_utilization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">usc_utilization</span> <span class="o">=</span> <span class="n">usc_utilization</span> <span class="o">/</span> <span class="mi">2</span>
                    <span class="n">usc_utilization</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">usc_utilization</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">latency</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">count</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">device</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">0</span><span class="se">\t</span><span class="s1">0</span><span class="se">\t</span><span class="s1">0</span><span class="se">\t</span><span class="s1">0</span><span class="se">\t</span><span class="s1">0</span><span class="se">\t</span><span class="s1">00                 &#39;</span><span class="p">)</span>

                <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">count</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">device</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">compression</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">decompress_utilization</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pke_utilization</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cph_utilization</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ath_utilization</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">usc_utilization</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">+</span> <span class="n">latency</span><span class="p">)</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">window</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">count</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;=========================================================================&quot;</span><span class="p">)</span>
            <span class="n">window</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">refresh_counter</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">window</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="n">EnableTelemetry</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">break</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">EnableTelemetry</span><span class="p">()</span>
    <span class="n">curses</span><span class="o">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">pbar</span><span class="p">)</span>
</pre></div>
</div>
<section id="monitoring-telemetry-demo">
<h3>Monitoring Telemetry Demo<a class="headerlink" href="#monitoring-telemetry-demo" title="Permalink to this headline"></a></h3>
<p>Here is a demonstration of how to monitor telemetry while running the Intel<sup>®</sup> QAT sample code.</p>

    <video width="500" height="300" controls >
    <source src="../_static/video/pg/telemetry.mp4" type="video/mp4">
    Video
    </video>
    <div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Intel Corporation.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>